<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Chúc mừng 20/10</title>

  <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Nhập tên -->
  <div class="name-input" id="nameInputContainer">
    <h2>Nhập tên của người nhận 🎀</h2>
    <input type="text" id="nameInput" placeholder="Nhập tên..." />
    <button id="startBtn">Bắt đầu</button>
  </div>

  <!-- Thông điệp chúc mừng -->
  <div class="center-message" id="mainContent" style="display:none;">
    <strong>Chúc mừng 20-10</strong>
    <span id="centerText">
      Ngày Phụ nữ Việt Nam<br>
      Mong người đẹp luôn rạng rỡ như những bó hoa!
    </span>
  </div>

  <!-- Ảnh động trang trí -->
  <img src="mewmew.gif" alt="GIF" class="center-gif" />

  <!-- Popup lời chúc -->
  <div class="popup" id="popup">
    <div class="popup-content">
      <img id="popupImage" src="" alt="Lời chúc">
      <p id="popupMessage">Lời chúc ở đây</p>
    </div>
  </div>
  <div class="overlay" id="overlay"></div>

  <!-- Nhạc nền -->
  <audio id="player" src="a.mp3"></audio>

  <!-- Script -->
  <script>
    let userName = "";

    const messages = [
      { img: "Đạt.png", text: "Đạt chúc {name} luôn rạng rỡ, tràn ngập niềm vui và nụ cười!" },
      { img: "Đức An.png", text: "Đức An chúc {name} một ngày 20/10 thật hạnh phúc và đáng nhớ!" },
      { img: "Đức Huy.png", text: "Đức Huy chúc {name} mãi xinh đẹp và vững bước trên con đường mình chọn." },
      { img: "Duc Phat.png", text: "Duc Phat chúc {name} luôn gặp may mắn và nhận nhiều yêu thương!" },
      { img: "Duy.png", text: "Duy chúc {name} một ngày ngập tràn hoa và nụ cười." },
      { img: "Hoài Sang.png", text: "Hoài Sang chúc {name} luôn tỏa sáng như một đóa hoa rực rỡ." },
      { img: "Hoàng Hậu.png", text: "Hoàng Hậu chúc {name} hạnh phúc, bình an và luôn được yêu thương." },
      { img: "Hoàng Nam.png", text: "Hoàng Nam chúc {name} nhiều niềm vui và những điều tốt đẹp!" },
      { img: "Hoàng Nhật.png", text: "Hoàng Nhật chúc {name} luôn mạnh mẽ, tự tin và xinh đẹp." },
      { img: "Hoàng Phúc.png", text: "Hoàng Phúc chúc {name} ngày 20/10 thật ấm áp bên người thân." },
      { img: "Hoàng.png", text: "Hoàng chúc {name} ngập tràn niềm vui và tiếng cười hôm nay!" },
      { img: "Hữu Đức.png", text: "Hữu Đức chúc {name} luôn nhận được nhiều may mắn và hạnh phúc." },
      { img: "Huy Hoàng.png", text: "Huy Hoàng chúc {name} một ngày thật trọn vẹn và ngọt ngào." },
      { img: "Khả Duy.png", text: "Khả Duy chúc {name} luôn rạng rỡ, tươi tỉnh như hoa mỗi sáng!" },
      { img: "Khang Thịnh.png", text: "Khang Thịnh chúc {name} sức khỏe, thành công và niềm vui." },
      { img: "Khánh Dương.png", text: "Khánh Dương chúc {name} được nhận thật nhiều yêu thương." },
      { img: "Kiệt.png", text: "Kiệt chúc {name} luôn tràn đầy năng lượng và nụ cười." },
      { img: "Long Bình.png", text: "Long Bình chúc {name} cuộc sống luôn ngọt ngào như kẹo." },
      { img: "Minh Hải.png", text: "Minh Hải chúc {name} mọi điều tốt đẹp sẽ đến trong năm nay." },
      { img: "Minh Khôi.png", text: "Minh Khôi chúc {name} mãi tươi trẻ và tràn đầy cảm hứng." },
      { img: "Minh Mẫn.png", text: "Minh Mẫn chúc {name} một ngày 20/10 đáng nhớ và hạnh phúc." },
      { img: "Minh Phi.png", text: "Minh Phi chúc {name} ngập tràn yêu thương và niềm vui." },
      { img: "Minh Tâm.png", text: "Minh Tâm chúc {name} luôn bình an và vững vàng." },
      { img: "Minh Trí.png", text: "Minh Trí chúc {name} những khoảnh khắc ngọt ngào bên người thân." },
      { img: "Ngọc Tài.png", text: "Ngọc Tài chúc {name} luôn hạnh phúc và mỉm cười mỗi ngày!" },
      { img: "Nguyễn Đạt.png", text: "Nguyễn Đạt chúc {name} nuôi dưỡng những ước mơ đẹp và thành công." },
      { img: "Nguyễn Linh.png", text: "Nguyễn Linh chúc {name} mai này luôn rạng rỡ như hôm nay." },
      { img: "Nguyễn Quang.png", text: "Nguyễn Quang chúc {name} một ngày thật trọn vẹn và ấm áp." },
      { img: "Phi Hùng.png", text: "Phi Hùng chúc {name} vô số niềm vui và bất ngờ dễ thương." },
      { img: "Phú Phạm.png", text: "Phú Phạm chúc {name} luôn tự tin và tỏa sáng." },
      { img: "Phúc Đại.png", text: "Phúc Đại chúc {name} nhận được thật nhiều lời chúc và quà ý nghĩa." },
      { img: "Phúc Huy.png", text: "Phúc Huy chúc {name} luôn được yêu thương và trân trọng." },
      { img: "Phước An.png", text: "Phước An chúc {name} một ngày thật nhiều kỷ niệm đẹp." },
      { img: "Tâm Phúc.png", text: "Tâm Phúc chúc {name} bình an, khỏe mạnh và hạnh phúc." },
      { img: "Tấn Đạt.png", text: "Tấn Đạt chúc {name} một ngày tràn ngập tiếng cười." },
      { img: "Tấn Phát.png", text: "Tấn Phát chúc {name} mọi điều tốt lành sẽ đến trong tương lai." },
      { img: "Tấn Thành.png", text: "Tấn Thành chúc {name} luôn giữ nụ cười trên môi mỗi ngày." },
      { img: "Thái Dương.png", text: "Thái Dương chúc {name} tỏa sáng và đạt được mọi ước mơ." },
      { img: "Thái Tài.png", text: "Thái Tài chúc {name} tràn đầy may mắn và tình yêu." },
      { img: "Thanh Dương.png", text: "Thanh Dương chúc {name} một ngày ấm áp và trọn vẹn." },
      { img: "Thanh Hùng.png", text: "Thanh Hùng chúc {name} những điều ngọt ngào nhất." },
      { img: "Thanh Lâm.png", text: "Thanh Lâm chúc {name} niềm vui nhỏ mỗi ngày." },
      { img: "Thành Nhân.png", text: "Thành Nhân chúc {name} cảm thấy yêu đời và an yên." },
      { img: "Thanh Tùng.png", text: "Thanh Tùng chúc {name} một ngày đáng nhớ và vui vẻ." },
      { img: "Thế Vinh.png", text: "Thế Vinh chúc {name} luôn tràn đầy năng lượng tích cực." },
      { img: "Thiện Nhân.png", text: "Thiện Nhân chúc {name} gặt hái thật nhiều nụ cười." },
      { img: "Tiến Đặng.png", text: "Tiến Đặng chúc {name} mọi điều tốt đẹp và thuận lợi." },
      { img: "Tiến Hưng.png", text: "Tiến Hưng chúc {name} hạnh phúc và may mắn quanh năm." },
      { img: "Tiến Thành.png", text: "Tiến Thành chúc {name} luôn xinh đẹp và tự tin." },
      { img: "Tín Phát.png", text: "Tín Phát chúc {name} gặt hái nhiều niềm vui mới." },
      { img: "Tín.png", text: "Tín chúc {name} mỗi ngày đều đáng yêu và rạng rỡ." },
      { img: "Triết Huỳnh.png", text: "Triết Huỳnh chúc {name} ngập tràn hạnh phúc và tiếng cười." },
      { img: "Trung Hiếu.png", text: "Trung Hiếu chúc {name} những điều ấm áp nhất." },
      { img: "Trung Phus.png", text: "Trung Phus chúc {name} một ngày đầy bất ngờ dễ thương." },
      { img: "Tuấn Ngọc.png", text: "Tuấn Ngọc chúc {name} luôn vui vẻ và tự tại." },
      { img: "Tuấn Phúc.png", text: "Tuấn Phúc chúc {name} luôn may mắn và bình an." },
      { img: "Văn Đạt.png", text: "Văn Đạt chúc {name} luôn rạng rỡ và thành công." },
      { img: "Văn Khương.png", text: "Văn Khương chúc {name} một ngày tràn ngập niềm vui." },
      { img: "Văn Thanh.png", text: "Văn Thanh chúc {name} hạnh phúc cùng những người thân yêu." },
      { img: "Vĩ Khang.png", text: "Vĩ Khang chúc {name} luôn xinh đẹp và tươi trẻ." },
      { img: "Viết Thắng.png", text: "Viết Thắng chúc {name} một ngày thật tuyệt vời." },
      { img: "Vinh Võ.png", text: "Vinh Võ chúc {name} nhận thật nhiều yêu thương hôm nay." }
    ];

    const popup = document.getElementById("popup");
    const overlay = document.getElementById("overlay");
    const popupImage = document.getElementById("popupImage");
    const popupMessage = document.getElementById("popupMessage");
    const centerText = document.getElementById("centerText");

    const letterImages = ["letters.png", "q3.png", "h1.png", "h3.png", "t2.png", "t5.png"];

    document.getElementById("startBtn").addEventListener("click", () => {
      const nameField = document.getElementById("nameInput");
      const name = nameField.value.trim();
      if (!name) {
        alert("Vui lòng nhập tên trước khi bắt đầu!");
        return;
      }
      userName = name;
      document.getElementById("nameInputContainer").style.display = "none";
      document.getElementById("mainContent").style.display = "block";
      setInterval(() => createFallingLetter(), 1000);
    });

    function createHeartExplosion(x, y) {
      const hearts = ['💗'];
      const numHearts = 12;
      for (let i = 0; i < numHearts; i++) {
        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        const angle = (Math.PI * 2 / numHearts) * i;
        const distance = Math.random() * 80 + 40;
        heart.style.left = x + 'px';
        heart.style.top = y + 'px';
        heart.style.setProperty('--dx', Math.cos(angle) * distance + 'px');
        heart.style.setProperty('--dy', Math.sin(angle) * distance + 'px');
        heart.style.fontSize = (Math.random() * 10 + 20) + 'px';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 2000);
      }
    }

    function createFallingLetter() {
      const letter = document.createElement("img");
      const randomImage = letterImages[Math.floor(Math.random() * letterImages.length)];
      letter.src = randomImage;
      letter.classList.add("falling-letter");
      letter.style.left = Math.random() * (window.innerWidth - 50) + "px";
      letter.addEventListener("click", (e) => {
        createHeartExplosion(e.clientX, e.clientY);
        letter.classList.add('letter-clicked');
        setTimeout(() => showPopup(), 300);
      });
      document.body.appendChild(letter);
      setTimeout(() => letter.remove(), 8000);
    }

    function showPopup() {
      const randomMessage = messages[Math.floor(Math.random() * messages.length)];
      const personalizedText = randomMessage.text.replace("{name}", userName);
      popupImage.src = randomMessage.img;
      popupMessage.textContent = personalizedText;
      popup.style.display = "block";
      overlay.classList.add("active");
      popup.dataset.currentMessage = personalizedText;
    }

    function closePopup() {
      popup.style.display = "none";
      overlay.classList.remove("active");
      if (popup.dataset.currentMessage) {
        centerText.innerHTML = popup.dataset.currentMessage;
      }
    }

    overlay.addEventListener("click", closePopup);

    document.body.addEventListener("click", function () {
      const player = document.getElementById("player");
      if (player.paused) player.play();
    });
  </script>
</body>
</html>
